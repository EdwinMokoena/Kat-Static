doctype html
html(lang="en")
    head
        meta(charset="utf-8")
        meta(http-equiv="X-UA-Compatible" content="IE=edge,chrome=2")
        title

        meta(content='width=device-width, initial-scale=2.0, maximum-scale=1.0, user-scalable=0' name='viewport')
        meta(name="viewport" content="width=device-width")

        link(href!="<?php echo base_url(); ?>/bootstrap3/css/bootstrap.css" rel="stylesheet")
        link(href!="<?php echo base_url(); ?>/assets/css/demo.css" rel="stylesheet")
        link(href!="<?php echo base_url(); ?>/assets/css/styles.css" rel="stylesheet")
        link(href!="<?php echo base_url(); ?>/bootstrap3/css/bootstrap-grid.min.css" rel="stylesheet")
        link(href!="<?php echo base_url(); ?>/bootstrap3/css/bootstrap-reboot.min.css" rel="stylesheet")

        link(href!="<?php echo base_url(); ?>/bootstrap3/css/font-awesome.css" rel="stylesheet")
        link(rel="stylesheet" href="https://use.typekit.net/fio2tgl.css")

    body
        block navbar
        block content

        script(src!="<?php echo base_url(); ?>/jquery/jquery-1.10.2.js" type="text/javascript")
        script(src!="<?php echo base_url(); ?>/assets/js/jquery-ui-1.10.4.custom.min.js" type="text/javascript")
        script(src!="<?php echo base_url(); ?>/assets/js/jquery-migrate-1.4.1.min.js" type="text/javascript")

        script(src!="<?php echo base_url(); ?>/bootstrap3/js/bootstrap.js" type="text/javascript")
        script(src!="<?php echo base_url(); ?>/assets/js/gsdk-checkbox.js")
        script(src!="<?php echo base_url(); ?>/assets/js/gsdk-radio.js")
        script(src!="<?php echo base_url(); ?>/assets/js/gsdk-bootstrapswitch.js")
        script(src!="<?php echo base_url(); ?>/assets/js/get-shit-done.js")

        script(src!="<?php echo base_url(); ?>/assets/js/custom.js")

        script.
            var contact_form = $("#contact-form");
            var contact_btn = $("#contact-btn");
            var name_help_block = $("#name-form-group .help-block").hide();
            var surname_help_block = $("#surname-form-group span.help-block").hide();
            var email_help_block = $("#email-form-group span.help-block").hide();
            var name_form_group = $("#name-form-group");
            var surname_form_group = $("#surname-form-group");
            var email_form_group = $("#email-form-group");
            function removeClasses(resClass){
                setTimeout(
                    function(){
                        name_form_group.removeClass(resClass);
                        name_form_group.children("input.form-control").removeClass(resClass).val("");

                        surname_form_group.removeClass(resClass);
                        surname_form_group.children("input.form-control").removeClass(resClass).val("");

                        email_form_group.removeClass(resClass);
                        email_form_group.children("input.form-control").removeClass(resClass).val("");

                        name_help_block.hide()
                        surname_help_block.hide()
                        email_help_block.hide()

                        contact_btn.html("Submit");
                    },
                    5000
                );
            }
            contact_btn.click(function(e){
                e.preventDefault();
                req = $.ajax({
                    url       : "<?php echo base_url();?>/contact-form",
                    type      : "POST",
                    data      : contact_form.serialize(),
                    headers   : {'X-Requested-With': 'XMLHttpRequest'}
                });


                req.success(function(res){

                    name_form_group.addClass("has-success");
                    surname_form_group.addClass("has-success");
                    email_form_group.addClass("has-success");
                    contact_btn.html("Sent");

                    removeClasses("has-success");
                });


                req.fail(function(res){
                    resClass = "has-error";

                    name_form_group.addClass("has-error");
                    name_help_block.html("Invalid Name");
                    name_help_block.show();

                    surname_form_group.addClass("has-error");
                    surname_help_block.html("Invalid Surname");
                    surname_help_block.show();

                    email_form_group.addClass("has-error");
                    email_help_block.html("Invalid Email address");
                    email_help_block.show();
                    contact_btn.html("Error");

                    removeClasses("has-error");
                });


            });

